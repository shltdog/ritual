<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="theme-color" content="#0d0d0d" />
  <link rel="icon" href="/v3/images/app-icon.png" />
  <link rel="apple-touch-icon" href="/v3/images/app-icon.png" />
  <link rel="stylesheet" href="/v3/styles.css" />
  <title>Ritual</title>
</head>

<body>
  <div id="app">
    <div id="load-status" style="padding:1rem;text-align:center;color:#aaa;">üß™ Loading modules...</div>
  </div>

  <script type="module">
    const fail = (label, err) => {
      document.getElementById("load-status").innerHTML =
        `<div style="color:#ff5e5e;font-family:monospace;">‚ùå Failed: ${label}<br><br><code>${err.message}</code></div>`;
    };

    try {
      await import('./db.js');
      await import('./store.js');
      await import('./router.js');
      await import('./app.js');
      await import('./today.js');
      await import('./calendar.js');
      await import('./score.js');
      await import('./settings.js');
      await import('./templates.js');
      await import('./main.js');

      document.getElementById("load-status").innerHTML =
        `<div style="color:#90ee90;">‚úÖ All modules loaded successfully</div>`;
    } catch (err) {
      fail("main bundle", err);
    }
  </script>
</body>
</html>